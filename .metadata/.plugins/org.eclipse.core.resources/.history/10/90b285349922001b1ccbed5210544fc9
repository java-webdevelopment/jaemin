package com.nucpoop.banking.manager;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

public class DBManager {
	private static DBManager instance = new DBManager();
	private static Connection conn;
	PreparedStatement pstmt = null;

	private DBManager() {
		conn = connectToDB();
	}

	public static DBManager getInstance() {
		return instance;
	}

	private static Connection connectToDB() {
		try {
			Class.forName("org.mariadb.jdbc.Driver");
		}catch(ClassNotFoundException e) {
			e.printStackTrace();
		}
		try {
			String jdbcUrl = "jdbc:mariadb://kjm5546.iptime.org:3306/banking?autoReconnect=true&verifyServerCeritificate=false&useSSL=false";
			String userId="pi";
			String userPass="1101";
			Connection connection = DriverManager.getConnection(jdbcUrl,userId,userPass);
			System.out.println("DB connect success");
			return connection;
		}catch(Exception e) {
			System.out.println("DB connect fail");
		}
		return null;
	}
}
